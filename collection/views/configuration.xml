<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!--        Collection Configuration                -->
        <record id="configuration_form_view" model="ir.ui.view">
            <field name="name">collection.configuration.form</field>
            <field name="model">collection.configuration</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <group>
                            <group>
                                <field name="userName" readonly="0"/>
                                <field name="apiKey" readonly="0"/>
                                <field name="url" readonly="0"/>
                            </group>
                            <group>
                                <field name="userSender" readonly="0"/>
                                <field name="headers" readonly="0"/>
                            </group>
                        </group>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids"/>
                        <field name="activity_ids"/>
                        <field name="message_ids"/>
                    </div>
                </form>
            </field>
        </record>

        <record id="configuration_tree_view" model="ir.ui.view">
            <field name="name">collection.configuration.tree</field>
            <field name="model">collection.configuration</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="userName"/>
                    <field name="userSender"/>
                </tree>
            </field>
        </record>

        <record id="collection_configuration_action" model="ir.actions.act_window">
            <field name="name">Configuration</field>
            <field name="res_model">collection.configuration</field>
            <field name="view_mode">tree,form</field>
        </record>

        <!--        Collection Call                  -->
        <record id="call_result_form_view" model="ir.ui.view">
            <field name="name">collection.call.form</field>
            <field name="model">collection.call</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <group>
                            <group>
                                <field name="name" readonly="0"/>
                            </group>
                        </group>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids"/>
                        <field name="activity_ids"/>
                        <field name="message_ids"/>
                    </div>
                </form>
            </field>
        </record>
        <record id="call_result_tree_view" model="ir.ui.view">
            <field name="name">collection.call.tree</field>
            <field name="model">collection.call</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="name"/>
                </tree>
            </field>
        </record>

        <record id="collection_call_result_action" model="ir.actions.act_window">
            <field name="name">Call Results</field>
            <field name="res_model">collection.call</field>
            <field name="view_mode">tree,form</field>
        </record>

        <menuitem name="Configuration"
                  id="configuration_id"
                  parent="collection_root_menu"
                  action="collection.collection_configuration_action"
                  groups="collection.group_sms_admin"
                  sequence="14"
        />

        <menuitem name="API Setting"
                  id="api_menu"
                  parent="configuration_id"
                  action="collection.collection_configuration_action"
                  sequence="15"
        />
        <menuitem name="Call Results"
                  id="call_result_menu"
                  parent="configuration_id"
                  action="collection.collection_call_result_action"
                  sequence="16"
        />

        <record id="ir_cron_create_payment_date_activities" model="ir.cron">
            <field name="name">Create Payment Date Activities</field>
            <field name="model_id" ref="model_loan_order"/>
            <field name="state">code</field>
            <field name="code">model.action_create_payment_date_activities()</field>
            <field name="interval_number">1</field>
            <field name="interval_type">days</field>
            <field name="numbercall">-1</field>
            <field name="active">True</field>
<!--            <field name="nextcall" eval="(DateTime.now().replace(hour=1, minute=0))"/>-->

        </record>
    </data>
</odoo>
<?xml version="1.0"?>
<odoo>

    <record id="clouds_client_view_form" model="ir.ui.view">
        <field name="name">clouds.client.form.onedrive</field>
        <field name="model">clouds.client</field>
        <field name="inherit_id" ref="cloud_base.clouds_client_view_form"/>
        <field name="arch" type="xml">
            <group name="main_setting" position="after">
                <group name="onedrive_settings" attrs="{'invisible': [('cloud_client', 'not in', ['onedrive', 'sharepoint'])]}">
                    <field name="onedrive_client_id"
                           attrs="{'required': [('cloud_client', 'in', ['onedrive', 'sharepoint'])]}" 
                           string="App client ID"
                    />
                    <field name="onedrive_client_secret" 
                           password="True"
                           attrs="{'required': [('cloud_client', 'in', ['onedrive', 'sharepoint'])]}" 
                           string="App client secret" 
                    />
                    <field name="onedrive_redirect_uri"
                           attrs="{'required': [('cloud_client', 'in', ['onedrive', 'sharepoint'])]}" 
                           placeholder="https://yourodoodomain/one_drive_token" 
                           string="Redirect URL" 
                    />

                   <field name="onedrive_sharepoint_base_url"
                          attrs="{'invisible': [('cloud_client', '!=', 'sharepoint')], 'required': [('cloud_client', '=', 'sharepoint')]}"
                          placeholder="https://company.sharepoint.com/"
                    />   
                    <field name="onedrive_sharepoint_site_name"
                           attrs="{'invisible': [('cloud_client', '!=', 'sharepoint')], 'required': [('cloud_client', '=', 'sharepoint')]}"
                           placeholder="sites/mycompany"
                    />           
                    <field name="onedrive_sharepoint_drive"
                           attrs="{'invisible': [('cloud_client', '!=', 'sharepoint')], 'required': [('cloud_client', '=', 'sharepoint')]}"
                           placeholder="Documents"
                    />  


                </group>
                <group name="onedrive_tech"
                       groups="base.group_no_one" 
                       invisible="1"
                       attrs="{'invisible': [('cloud_client', 'not in', ['onedrive', 'sharepoint'])]}"
                >
                    <field name="onedrive_session"/> 
                    <field name="onedrive_key" attrs="{'invisible': [('cloud_client', '!=', 'sharepoint')]}"/> 
                </group>
            </group>
        </field>
    </record>

</odoo>
